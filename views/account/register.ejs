<section class="account">
  <div class="account-card">
    <h1><%= title %></h1>

    <%- messages() %>

    <form class="account-form" method="post" action="/account/register">

      <label for="account_firstname">First name</label>
      <input
        type="text"
        id="account_firstname"
        name="account_firstname"
        required
      >

      <label for="account_lastname">Last name</label>
      <input
        type="text"
        id="account_lastname"
        name="account_lastname"
        required
      >

      <label for="account_email">Email address</label>
      <input
        type="email"
        id="account_email"
        name="account_email"
        required
      >

      <label for="account_password">Password</label>

      <span class="password-requirements">
        Password must be at least 12 characters long and include
        one uppercase letter, one number, and one special character.
      </span>

      <input
        type="password"
        id="account_password"
        name="account_password"
        required
        pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9]).{12,}$"
      >

      <!-- 
        Password visibility toggle:
        This button switches the password input between
        hidden (password) and visible (text) so the user
        can verify what they typed.
      -->
      <button
        type="button"
        class="btn-secondary"
        onclick="togglePassword()"
      >
        Show password
      </button>

      <p class="password-requirements">
        Password must be at least 12 characters long and include
        at least one uppercase letter, one number, and one special character.
      </p>

      <button class="btn-primary" type="submit">
        Register
      </button>
    </form>
  </div>
</section>

<script>
  function togglePassword() {
    const passwordInput = document.getElementById("account_password")

    if (passwordInput.type === "password") {
      passwordInput.type = "text"
    } else {
      passwordInput.type = "password"
    }
  }
</script>
